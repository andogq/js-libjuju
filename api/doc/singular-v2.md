<!---
NOTE: this file has been generated by the doc command in js-libjuju
on Fri 2018/11/16 13:11:58 UTC. Do not manually edit this file.
--->
# Singular v2

Facade allows controller machines to request exclusive rights to administer
  some specific model or controller for a limited time.
This API facade is available on model connections.

To include SingularV2 capabilities in your client, load it as
part of your facades, for instance:
```javascript
const {conn, logout} = await jujulib.connectAndLogin(url, credentials, {
  facades: [require('jujulib/api/facades/singular-v2')]
});
```
Facade methods at then accessible at `conn.facades.singular`.

Go back to [index](index.md).

## Methods
- [claim](#claimargs-callback)
- [wait](#waitargs-callback)

## claim(args, callback)
Claim makes the supplied singular-controller lease requests. (In practice,
    any requests not for the connection's model or controller, or not on
    behalf of the connected ModelManager machine, will be rejected.)

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  claims: []{
    entityTag: string,
    claimantTag: string,
    duration: int
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## wait(args, callback)
Wait waits for the singular-controller lease to expire for all supplied
    entities. (In practice, any requests that do not refer to the
    connection's model or controller will be rejected.)

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.