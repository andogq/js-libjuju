<!---
NOTE: this file has been generated by the doc command in js-libjuju
on Fri 2018/11/16 13:11:58 UTC. Do not manually edit this file.
--->
# Action v2

ActionAPI implements the client API for interacting with Actions
This API facade is available on model connections.

To include ActionV2 capabilities in your client, load it as
part of your facades, for instance:
```javascript
const {conn, logout} = await jujulib.connectAndLogin(url, credentials, {
  facades: [require('jujulib/api/facades/action-v2')]
});
```
Facade methods at then accessible at `conn.facades.action`.

Go back to [index](index.md).

## Methods
- [actions](#actionsargs-callback)
- [applicationsCharmsActions](#applicationsCharmsActionsargs-callback)
- [cancel](#cancelargs-callback)
- [enqueue](#enqueueargs-callback)
- [findActionTagsByPrefix](#findActionTagsByPrefixargs-callback)
- [findActionsByNames](#findActionsByNamesargs-callback)
- [listAll](#listAllargs-callback)
- [listCompleted](#listCompletedargs-callback)
- [listPending](#listPendingargs-callback)
- [listRunning](#listRunningargs-callback)
- [run](#runargs-callback)
- [runOnAllMachines](#runOnAllMachinesargs-callback)

## actions(args, callback)
Actions takes a list of ActionTags, and returns the full Action for each
    ID.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    action: {
      tag: string,
      receiver: string,
      name: string,
      parameters: map[string]anything
    },
    enqueued: time,
    started: time,
    completed: time,
    status: string,
    message: string,
    output: map[string]anything,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## applicationsCharmsActions(args, callback)
ApplicationsCharmsActions returns a slice of charm Actions for a slice of
    services.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    applicationTag: string,
    actions: map[string]{
      description: string,
      params: map[string]anything
    },
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## cancel(args, callback)
Cancel attempts to cancel enqueued Actions from running.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    action: {
      tag: string,
      receiver: string,
      name: string,
      parameters: map[string]anything
    },
    enqueued: time,
    started: time,
    completed: time,
    status: string,
    message: string,
    output: map[string]anything,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## enqueue(args, callback)
Enqueue takes a list of Actions and queues them up to be executed by the
    designated ActionReceiver, returning the params.Action for each
    enqueued Action, or an error if there was a problem enqueueing the
    Action.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  actions: []{
    tag: string,
    receiver: string,
    name: string,
    parameters: map[string]anything
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    action: {
      tag: string,
      receiver: string,
      name: string,
      parameters: map[string]anything
    },
    enqueued: time,
    started: time,
    completed: time,
    status: string,
    message: string,
    output: map[string]anything,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## findActionTagsByPrefix(args, callback)
FindActionTagsByPrefix takes a list of string prefixes and finds
    corresponding ActionTags that match that prefix.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  prefixes: []string
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  matches: map[string][]{
    tag: string
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## findActionsByNames(args, callback)
There is no documentation for this method.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  names: []string
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  actions: []{
    name: string,
    actions: []{
      action: {
        tag: string,
        receiver: string,
        name: string,
        parameters: map[string]anything
      },
      enqueued: time,
      started: time,
      completed: time,
      status: string,
      message: string,
      output: map[string]anything,
      error: {
        message: string,
        code: string,
        info: {
          macaroon: anything,
          macaroonPath: string
        }
      }
    },
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## listAll(args, callback)
ListAll takes a list of Entities representing ActionReceivers and returns
    all of the Actions that have been enqueued or run by each of those
    Entities.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  actions: []{
    receiver: string,
    actions: []{
      action: {
        tag: string,
        receiver: string,
        name: string,
        parameters: map[string]anything
      },
      enqueued: time,
      started: time,
      completed: time,
      status: string,
      message: string,
      output: map[string]anything,
      error: {
        message: string,
        code: string,
        info: {
          macaroon: anything,
          macaroonPath: string
        }
      }
    },
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## listCompleted(args, callback)
ListCompleted takes a list of Entities representing ActionReceivers and
    returns all of the Actions that have been run on each of those
    Entities.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  actions: []{
    receiver: string,
    actions: []{
      action: {
        tag: string,
        receiver: string,
        name: string,
        parameters: map[string]anything
      },
      enqueued: time,
      started: time,
      completed: time,
      status: string,
      message: string,
      output: map[string]anything,
      error: {
        message: string,
        code: string,
        info: {
          macaroon: anything,
          macaroonPath: string
        }
      }
    },
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## listPending(args, callback)
ListPending takes a list of Entities representing ActionReceivers and
    returns all of the Actions that are enqueued for each of those
    Entities.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  actions: []{
    receiver: string,
    actions: []{
      action: {
        tag: string,
        receiver: string,
        name: string,
        parameters: map[string]anything
      },
      enqueued: time,
      started: time,
      completed: time,
      status: string,
      message: string,
      output: map[string]anything,
      error: {
        message: string,
        code: string,
        info: {
          macaroon: anything,
          macaroonPath: string
        }
      }
    },
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## listRunning(args, callback)
ListRunning takes a list of Entities representing ActionReceivers and
    returns all of the Actions that have are running on each of those
    Entities.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  actions: []{
    receiver: string,
    actions: []{
      action: {
        tag: string,
        receiver: string,
        name: string,
        parameters: map[string]anything
      },
      enqueued: time,
      started: time,
      completed: time,
      status: string,
      message: string,
      output: map[string]anything,
      error: {
        message: string,
        code: string,
        info: {
          macaroon: anything,
          macaroonPath: string
        }
      }
    },
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## run(args, callback)
Run the commands specified on the machines identified through the list of
    machines, units and services.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  commands: string,
  timeout: int,
  machines: []string,
  applications: []string,
  units: []string
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    action: {
      tag: string,
      receiver: string,
      name: string,
      parameters: map[string]anything
    },
    enqueued: time,
    started: time,
    completed: time,
    status: string,
    message: string,
    output: map[string]anything,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## runOnAllMachines(args, callback)
RunOnAllMachines attempts to run the specified command on all the machines.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  commands: string,
  timeout: int,
  machines: []string,
  applications: []string,
  units: []string
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    action: {
      tag: string,
      receiver: string,
      name: string,
      parameters: map[string]anything
    },
    enqueued: time,
    started: time,
    completed: time,
    status: string,
    message: string,
    output: map[string]anything,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.