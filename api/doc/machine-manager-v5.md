<!---
NOTE: this file has been generated by the doc command in js-libjuju
on Fri 2018/11/16 13:11:58 UTC. Do not manually edit this file.
--->
# MachineManager v5

Version 5 of Machine Manger API. Adds CreateUpgradeSeriesLock.
This API facade is available on model connections.

To include MachineManagerV5 capabilities in your client, load it as
part of your facades, for instance:
```javascript
const {conn, logout} = await jujulib.connectAndLogin(url, credentials, {
  facades: [require('jujulib/api/facades/machine-manager-v5')]
});
```
Facade methods at then accessible at `conn.facades.machineManager`.

Go back to [index](index.md).

## Methods
- [addMachines](#addMachinesargs-callback)
- [destroyMachine](#destroyMachineargs-callback)
- [destroyMachineWithParams](#destroyMachineWithParamsargs-callback)
- [forceDestroyMachine](#forceDestroyMachineargs-callback)
- [getUpgradeSeriesMessages](#getUpgradeSeriesMessagesargs-callback)
- [instanceTypes](#instanceTypesargs-callback)
- [updateMachineSeries](#updateMachineSeriesargs-callback)
- [upgradeSeriesComplete](#upgradeSeriesCompleteargs-callback)
- [upgradeSeriesPrepare](#upgradeSeriesPrepareargs-callback)
- [upgradeSeriesValidate](#upgradeSeriesValidateargs-callback)
- [watchUpgradeSeriesNotifications](#watchUpgradeSeriesNotificationsargs-callback)

## addMachines(args, callback)
AddMachines adds new machines with the supplied parameters.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  params: []{
    series: string,
    constraints: {
      arch: string,
      container: string,
      cores: int,
      cpuPower: int,
      mem: int,
      rootDisk: int,
      tags: []string,
      instanceType: string,
      spaces: []string,
      virtType: string
    },
    jobs: []string,
    disks: []{
      pool: string,
      size: int,
      count: int
    },
    placement: {
      scope: string,
      directive: string
    },
    parentId: string,
    containerType: string,
    instanceId: string,
    nonce: string,
    hardwareCharacteristics: {
      arch: string,
      mem: int,
      rootDisk: int,
      cpuCores: int,
      cpuPower: int,
      tags: []string,
      availabilityZone: string
    },
    addresses: []{
      value: string,
      type: string,
      scope: string,
      spaceName: string
    }
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  machines: []{
    machine: string,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## destroyMachine(args, callback)
DestroyMachine removes a set of machines from the model.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    },
    info: {
      detachedStorage: []{
        tag: string
      },
      destroyedStorage: []{
        tag: string
      },
      destroyedUnits: []{
        tag: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## destroyMachineWithParams(args, callback)
DestroyMachineWithParams removes a set of machines from the model.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  machineTags: []string,
  force: bool,
  keep: bool
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    },
    info: {
      detachedStorage: []{
        tag: string
      },
      destroyedStorage: []{
        tag: string
      },
      destroyedUnits: []{
        tag: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## forceDestroyMachine(args, callback)
ForceDestroyMachine forcibly removes a set of machines from the model.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    },
    info: {
      detachedStorage: []{
        tag: string
      },
      destroyedStorage: []{
        tag: string
      },
      destroyedUnits: []{
        tag: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## getUpgradeSeriesMessages(args, callback)
GetUpgradeSeriesMessages returns all new messages associated with upgrade
    series events. Messages that have already been retrieved once are not
    returned by this method.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  params: []{
    entity: {
      tag: string
    },
    watcherId: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    },
    result: []string
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## instanceTypes(args, callback)
InstanceTypes returns instance type information for the cloud and region in
    which the current model is deployed.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  constraints: []{
    value: {
      arch: string,
      container: string,
      cores: int,
      cpuPower: int,
      mem: int,
      rootDisk: int,
      tags: []string,
      instanceType: string,
      spaces: []string,
      virtType: string
    }
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    instanceTypes: []{
      name: string,
      arches: []string,
      cpuCores: int,
      memory: int,
      rootDisk: int,
      virtType: string,
      deprecated: bool,
      cost: int
    },
    costUnit: string,
    costCurrency: string,
    costDivisor: int,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## updateMachineSeries(args, callback)
DEPRECATED: UpdateMachineSeries updates the series of the given machine(s)
    as well as all units and subordinates installed on the machine(s).

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  args: []{
    tag: {
      tag: string
    },
    force: bool,
    series: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## upgradeSeriesComplete(args, callback)
UpgradeSeriesComplete marks a machine as having completed a managed series
    upgrade.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  tag: {
    tag: string
  },
  force: bool,
  series: string
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  error: {
    message: string,
    code: string,
    info: {
      macaroon: anything,
      macaroonPath: string
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## upgradeSeriesPrepare(args, callback)
UpgradeSeriesPrepare prepares a machine for a OS series upgrade.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  tag: {
    tag: string
  },
  force: bool,
  series: string
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  error: {
    message: string,
    code: string,
    info: {
      macaroon: anything,
      macaroonPath: string
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## upgradeSeriesValidate(args, callback)
UpgradeSeriesValidate validates that the incoming arguments correspond to a
    valid series upgrade for the target machine. If they do, a list of the
    machine's current units is returned for use in soliciting user
    confirmation of the command.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  args: []{
    tag: {
      tag: string
    },
    force: bool,
    series: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    },
    unitNames: []string
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.

## watchUpgradeSeriesNotifications(args, callback)
WatchUpgradeSeriesNotifications returns a watcher that fires on upgrade
    series events.

- *@param {Object} args* Arguments to be provided to Juju, as an object like
  the following:
```javascript
{
  entities: []{
    tag: string
  }
}
```
- *@param {Function} callback* Called when the response from Juju is available,
  the callback receives an error and the result. If there are no errors, the
  result is provided as an object like the following:
```javascript
{
  results: []{
    notifywatcherid: string,
    error: {
      message: string,
      code: string,
      info: {
        macaroon: anything,
        macaroonPath: string
      }
    }
  }
}
```
- *@returns {Promise}* Rejected or resolved with the values normally passed to
  the callback when the callback is not provided.
  This allows this method to be awaited.