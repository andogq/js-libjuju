<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@canonical/jujulib - v2.0.0-beta.5</title>
	<meta name="description" content="Documentation for @canonical/jujulib - v2.0.0-beta.5">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@canonical/jujulib - v2.0.0-beta.5</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@canonical/jujulib - v2.0.0-beta.5</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<!--
  This file is automatically generated when building the project. Do not make
  changes to this file. Update the template templates/readme.ts instead.
-->
				<a href="#js-jujulib" id="js-jujulib" style="color: inherit; text-decoration: none;">
					<h1>JS Jujulib</h1>
				</a>
				<p>This project provides a JavaScript API client library for interacting with the Juju
				WebSocket API.</p>
				<ul>
					<li><a href="#getting-started">Getting Started</a></li>
					<li><a href="#client-api-reference">Client API Reference</a></li>
					<li><a href="#facade-api-reference">Facade API Reference</a></li>
					<li><a href="#examples">Examples</a></li>
					<li><a href="#library-maintenance">Library Maintenance</a><ul>
							<li><a href="#updating-library-facades">Updating Library Facades</a></li>
							<li><a href="#releasing-to-npm">Releasing to NPM</a></li>
						</ul>
					</li>
				</ul>
				<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
					<h2>Getting Started</h2>
				</a>
				<p>To access the Juju API, a connection must be made to either a Juju
				controller or a Juju model.</p>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">ApplicationV5</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;jujulib/api/facades/application-v5.js&quot;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">ClientV1</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;jujulib/api/facades/client-v1.js&quot;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">ClientV2</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;jujulib/api/facades/client-v2.js&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">juju</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">jujulib</span><span style="color: #000000">.</span><span style="color: #795E26">connect</span><span style="color: #000000">(</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;wss://example.com/model/x-y-z/api&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  {</span><span style="color: #001080">facades:</span><span style="color: #000000"> [</span><span style="color: #001080">ApplicationV5</span><span style="color: #000000">, </span><span style="color: #001080">ClientV1</span><span style="color: #000000">, </span><span style="color: #001080">ClientV2</span><span style="color: #000000">]}</span>
<span style="color: #000000">);</span>
</code></pre>
				<p>In the code above, a connection is established to the provided model API URL, and the client declares interest in using the specified set of facades.</p>
				<p><strong>Note:</strong> When multiple versions of the same facade are included (like the two client versions in the example), the most recent version supported by the server is made available to the client.</p>
				<p>The <code>connect</code> method returns a <code>juju</code> object which is used to log into the controller or model by providing a user/pass credentials or macaroons. See the <a href="#examples">various examples</a>.</p>
				<a href="#client-api-reference" id="client-api-reference" style="color: inherit; text-decoration: none;">
					<h2>Client API Reference</h2>
				</a>
				<p>Visit the <a href="https://juju.github.io/js-libjuju/">full API documentation</a> for detailed information on the Client API.</p>
				<a href="#facade-api-reference" id="facade-api-reference" style="color: inherit; text-decoration: none;">
					<h2>Facade API Reference</h2>
				</a>
				<p>Detailed Facade documentation is available as part of the <a href="https://juju.github.io/js-libjuju/">full API documentation</a> or you can visit the facade source directly using the following links:</p>
				<ul>
					<li><a href="api/facades/action-v6.ts">action-v6.ts</a></li>
					<li><a href="api/facades/admin-v3.ts">admin-v3.ts</a></li>
					<li><a href="api/facades/all-model-watcher-v2.ts">all-model-watcher-v2.ts</a></li>
					<li><a href="api/facades/all-watcher-v1.ts">all-watcher-v1.ts</a></li>
					<li><a href="api/facades/annotations-v2.ts">annotations-v2.ts</a></li>
					<li><a href="api/facades/application-offers-v2.ts">application-offers-v2.ts</a></li>
					<li><a href="api/facades/application-offers-v3.ts">application-offers-v3.ts</a></li>
					<li><a href="api/facades/application-v12.ts">application-v12.ts</a></li>
					<li><a href="api/facades/application-v13.ts">application-v13.ts</a></li>
					<li><a href="api/facades/backups-v2.ts">backups-v2.ts</a></li>
					<li><a href="api/facades/block-v2.ts">block-v2.ts</a></li>
					<li><a href="api/facades/bundle-v1.ts">bundle-v1.ts</a></li>
					<li><a href="api/facades/bundle-v4.ts">bundle-v4.ts</a></li>
					<li><a href="api/facades/charm-hub-v1.ts">charm-hub-v1.ts</a></li>
					<li><a href="api/facades/charms-v2.ts">charms-v2.ts</a></li>
					<li><a href="api/facades/charms-v4.ts">charms-v4.ts</a></li>
					<li><a href="api/facades/client-v2.ts">client-v2.ts</a></li>
					<li><a href="api/facades/cloud-v1.ts">cloud-v1.ts</a></li>
					<li><a href="api/facades/cloud-v2.ts">cloud-v2.ts</a></li>
					<li><a href="api/facades/cloud-v3.ts">cloud-v3.ts</a></li>
					<li><a href="api/facades/cloud-v4.ts">cloud-v4.ts</a></li>
					<li><a href="api/facades/cloud-v5.ts">cloud-v5.ts</a></li>
					<li><a href="api/facades/cloud-v7.ts">cloud-v7.ts</a></li>
					<li><a href="api/facades/controller-v3.ts">controller-v3.ts</a></li>
					<li><a href="api/facades/controller-v4.ts">controller-v4.ts</a></li>
					<li><a href="api/facades/controller-v5.ts">controller-v5.ts</a></li>
					<li><a href="api/facades/controller-v6.ts">controller-v6.ts</a></li>
					<li><a href="api/facades/controller-v7.ts">controller-v7.ts</a></li>
					<li><a href="api/facades/controller-v8.ts">controller-v8.ts</a></li>
					<li><a href="api/facades/controller-v9.ts">controller-v9.ts</a></li>
					<li><a href="api/facades/credential-manager-v1.ts">credential-manager-v1.ts</a></li>
					<li><a href="api/facades/firewall-rules-v1.ts">firewall-rules-v1.ts</a></li>
					<li><a href="api/facades/high-availability-v2.ts">high-availability-v2.ts</a></li>
					<li><a href="api/facades/image-manager-v2.ts">image-manager-v2.ts</a></li>
					<li><a href="api/facades/image-metadata-manager-v1.ts">image-metadata-manager-v1.ts</a></li>
					<li><a href="api/facades/key-manager-v1.ts">key-manager-v1.ts</a></li>
					<li><a href="api/facades/machine-manager-v6.ts">machine-manager-v6.ts</a></li>
					<li><a href="api/facades/metrics-debug-v2.ts">metrics-debug-v2.ts</a></li>
					<li><a href="api/facades/model-config-v2.ts">model-config-v2.ts</a></li>
					<li><a href="api/facades/model-generation-v4.ts">model-generation-v4.ts</a></li>
					<li><a href="api/facades/model-manager-v2.ts">model-manager-v2.ts</a></li>
					<li><a href="api/facades/model-manager-v3.ts">model-manager-v3.ts</a></li>
					<li><a href="api/facades/model-manager-v4.ts">model-manager-v4.ts</a></li>
					<li><a href="api/facades/model-manager-v5.ts">model-manager-v5.ts</a></li>
					<li><a href="api/facades/model-manager-v8.ts">model-manager-v8.ts</a></li>
					<li><a href="api/facades/model-manager-v9.ts">model-manager-v9.ts</a></li>
					<li><a href="api/facades/payloads-v1.ts">payloads-v1.ts</a></li>
					<li><a href="api/facades/pinger-v1.ts">pinger-v1.ts</a></li>
					<li><a href="api/facades/resources-v1.ts">resources-v1.ts</a></li>
					<li><a href="api/facades/spaces-v6.ts">spaces-v6.ts</a></li>
					<li><a href="api/facades/sshclient-v2.ts">sshclient-v2.ts</a></li>
					<li><a href="api/facades/storage-v6.ts">storage-v6.ts</a></li>
					<li><a href="api/facades/subnets-v4.ts">subnets-v4.ts</a></li>
					<li><a href="api/facades/user-manager-v1.ts">user-manager-v1.ts</a></li>
					<li><a href="api/facades/user-manager-v2.ts">user-manager-v2.ts</a></li>
				</ul>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h2>Examples</h2>
				</a>
				<p>We have a number of examples showing how to perform a few common tasks. Those can be found in the <code>examples</code> folder.</p>
				<ul>
					<li><a href="examples/add-machine.js">add-machine.js</a></li>
					<li><a href="examples/deploy.js">deploy.js</a></li>
					<li><a href="examples/login-with-bakery.js">login-with-bakery.js</a></li>
					<li><a href="examples/ping.js">ping.js</a></li>
					<li><a href="examples/watch-all-models.js">watch-all-models.js</a></li>
					<li><a href="examples/watch.js">watch.js</a></li>
				</ul>
				<a href="#library-maintenance" id="library-maintenance" style="color: inherit; text-decoration: none;">
					<h2>Library Maintenance</h2>
				</a>
				<a href="#updating-library-facades" id="updating-library-facades" style="color: inherit; text-decoration: none;">
					<h3>Updating Library Facades</h3>
				</a>
				<p>The Juju facade API files are generated from a supplied Juju schema.</p>
				<p>To generate this schema you will need to clone the <a href="https://github.com/juju/juju/">Juju repository</a> and then run <code>go run github.com/juju/juju/generate/schemagen -admin-facades --facade-group=client,jimm ./apiserver/facades/schema.json</code> to generate a schema file that contains the publicly available facades as well as the set of facades for JAAS. Other <code>--facade-group</code> options are <code>latest</code> and <code>all</code>.</p>
				<p>After generating a new schema run <code>npm run store-schema</code> which will store the updated schema and necessary meta data in this project.</p>
				<p>To update the facades, run <code>npm run build</code> on this project. This will generate the facades using the locally stored schema, sha, and version the schema was generated from.</p>
				<a href="#releasing-to-npm" id="releasing-to-npm" style="color: inherit; text-decoration: none;">
					<h3>Releasing to NPM</h3>
				</a>
				<ul>
					<li>Update the version number in <code>package.json</code>, respecting semver.</li>
					<li>Run the tests with <code>npm test</code>.</li>
					<li>Run the examples with <code>node</code> to ensure that everything works as expected.</li>
					<li>Upgrade the <a href="https://github.com/canonical-web-and-design/jaas-dashboard">Juju Dashboard</a> to this version using <code>npm link</code> and ensure that everything works as expected.</li>
					<li>Tag the version in the git repository with the version number from above.</li>
					<li><code>npm publish</code>.</li>
					<li>Update the release notes in the <a href="https://github.com/juju/js-libjuju/releases">repository</a>.</li>
					<li>Create a post on the <a href="https://discourse.juju.is/">Juju Discourse</a> with information about the release.</li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/client.html">client</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_action_v6.html">facades/action-<wbr>v6</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_admin_v3.html">facades/admin-<wbr>v3</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_all_model_watcher_v2.html">facades/all-<wbr>model-<wbr>watcher-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_all_watcher_v1.html">facades/all-<wbr>watcher-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_annotations_v2.html">facades/annotations-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_application_offers_v2.html">facades/application-<wbr>offers-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_application_offers_v3.html">facades/application-<wbr>offers-<wbr>v3</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_application_v12.html">facades/application-<wbr>v12</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_application_v13.html">facades/application-<wbr>v13</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_backups_v2.html">facades/backups-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_block_v2.html">facades/block-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_bundle_v1.html">facades/bundle-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_bundle_v4.html">facades/bundle-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_charm_hub_v1.html">facades/charm-<wbr>hub-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_charms_v2.html">facades/charms-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_charms_v4.html">facades/charms-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_client_v2.html">facades/client-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_cloud_v1.html">facades/cloud-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_cloud_v2.html">facades/cloud-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_cloud_v3.html">facades/cloud-<wbr>v3</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_cloud_v4.html">facades/cloud-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_cloud_v5.html">facades/cloud-<wbr>v5</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_cloud_v7.html">facades/cloud-<wbr>v7</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v3.html">facades/controller-<wbr>v3</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v4.html">facades/controller-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v5.html">facades/controller-<wbr>v5</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v6.html">facades/controller-<wbr>v6</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v7.html">facades/controller-<wbr>v7</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v8.html">facades/controller-<wbr>v8</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_controller_v9.html">facades/controller-<wbr>v9</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_credential_manager_v1.html">facades/credential-<wbr>manager-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_firewall_rules_v1.html">facades/firewall-<wbr>rules-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_high_availability_v2.html">facades/high-<wbr>availability-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_image_manager_v2.html">facades/image-<wbr>manager-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_image_metadata_manager_v1.html">facades/image-<wbr>metadata-<wbr>manager-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_key_manager_v1.html">facades/key-<wbr>manager-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_machine_manager_v6.html">facades/machine-<wbr>manager-<wbr>v6</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_metrics_debug_v2.html">facades/metrics-<wbr>debug-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_config_v2.html">facades/model-<wbr>config-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_generation_v4.html">facades/model-<wbr>generation-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_manager_v2.html">facades/model-<wbr>manager-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_manager_v3.html">facades/model-<wbr>manager-<wbr>v3</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_manager_v4.html">facades/model-<wbr>manager-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_manager_v5.html">facades/model-<wbr>manager-<wbr>v5</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_manager_v8.html">facades/model-<wbr>manager-<wbr>v8</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_model_manager_v9.html">facades/model-<wbr>manager-<wbr>v9</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_payloads_v1.html">facades/payloads-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_pinger_v1.html">facades/pinger-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_resources_v1.html">facades/resources-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_spaces_v6.html">facades/spaces-<wbr>v6</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_sshclient_v2.html">facades/sshclient-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_storage_v6.html">facades/storage-<wbr>v6</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_subnets_v4.html">facades/subnets-<wbr>v4</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_user_manager_v1.html">facades/user-<wbr>manager-<wbr>v1</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/facades_user_manager_v2.html">facades/user-<wbr>manager-<wbr>v2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/helpers.html">helpers</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/utils.html">utils</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>